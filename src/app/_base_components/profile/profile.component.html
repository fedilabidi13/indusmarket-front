
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<!-- CSS Files -->
<link href="/src/assets/css/bootstrap.min.css" rel="stylesheet" />
<link href="/src/assets/css/now-ui-kit.css?v=1.3.0" rel="stylesheet" />
<!-- CSS Just for demo purpose, don't include it in your project -->
<link href="/src/assets/demo.css" rel="stylesheet" />
<div class="profile-page sidebar-collapse">


<app-nav2></app-nav2>

<div class="wrapper">
  <div class="page-header clear-filter page-header-small" filter-color="orange">
    <div class="page-header-image" data-parallax="true" style="background-image: url(&quot;../assets/img/header-back.jpg&quot;); transform: translate3d(0px, 0px, 0px);">
    </div>
    <div class="container">
      <div class="photo-container position-relative ">
        <img src="{{user.picture.imagenUrl}}" alt="profile picture">
        <div class="position-absolute bottom-0 end-0">
          <button class="btn btn-info btn-icon btn-round "
                  data-toggle="modal" data-target="#exampleCam">
            <i class="now-ui-icons arrows-1_cloud-upload-94"></i>
          </button>
        </div>
      </div>
     <h3 class="title">{{user.firstName}} {{user.lastName}}</h3>
    <p class="category">Client</p>
      <div class="content">
        <div class="social-description">
          <h2>26</h2>
          <p>Shops</p>
        </div>
        <div class="social-description">
          <h2>26</h2>
          <p>Products</p>
        </div>
        <div class="social-description">
          <h2>19</h2>
          <p>Posts</p>
        </div>
        <br>
      </div>

    </div>

  </div>

  <br>
  <br>
  <div class="section">
    <div class="container">
      <div class="button-container">
        <button  class="btn btn-info btn-icon btn-round"
                 data-toggle="modal" data-target="#exampleModal">
          <i class="now-ui-icons media-1_camera-compact"></i>
        </button>
        <button class="btn btn-info btn-icon btn-round" type="button"
                data-toggle="modal" data-target="#exampleModal1">
          <i class="now-ui-icons loader_gear"></i>
        </button>

      <div class="row">
        <div class="col-md-6 ml-auto mr-auto">
          <div class="nav-align-center">
            <ul class="nav nav-pills nav-pills-info nav-pills-just-icons" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#productss" role="tablist">
                  <i class="now-ui-icons design_app"></i>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#shop" role="tablist">
                  <i class="now-ui-icons shopping_shop"></i>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="Event-tab" data-toggle="tab" href="#event" role="tablist" aria-controls="profile" aria-selected="false">
                  <i class="now-ui-icons sport_user-run"></i>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link " id="Claims-tab" data-toggle="tab" href="#Claims" role="tablist" aria-controls="profile" aria-selected="false">
                  <i class="now-ui-icons emoticons_satisfied"></i>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link " id="Ticket-tab" data-toggle="tab" href="#Ticket" role="tablist" aria-controls="profile" aria-selected="false">
                    <i class="now-ui-icons media-1_album"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
        <div class="tab-content">
          <div class="tab-pane active" id="productss" role="tabpanel" aria-labelledby="home-tab">
            <h4 class="title text-center">My Products</h4>
            <app-user-products></app-user-products>
          </div>
          <div class="tab-pane" id="shop" role="tabpanel">
            <h4 class="title text-center">My Shops</h4>
            <app-user-shops></app-user-shops>
            </div>
          <div class="tab-pane" id="event" role="tabpanel" aria-labelledby="Event-tab">
            <h4 class="title text-center">My Events</h4>
            <app-event-user></app-event-user>
          </div>
          <div class="tab-pane" id="Claims" role="tabpanel" aria-labelledby="Claims-tab">
            <h4 class="title text-center">My Claims</h4>
            <app-claims></app-claims>
          </div>
          <div class="tab-pane" id="Ticket" role="tabpanel" aria-labelledby="Ticket-tab">
            <h4 class="title text-center">My Tickets</h4>
            <app-ticket-user></app-ticket-user>
          </div>
          </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Profile picture</h5>
        <button type="button" class="btn btn-round btn-info" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Add an image
        <div class="mb-3">
          <label for="formFile" class="form-label"></label>
          <input class="form-control" type="file" id="formFile" (change)="onFileSelected($event)">
        </div>
        <div class="alert alert-info" role="alert" [hidden]="created">
          {{message}}
        </div>
        <div [hidden]="loading">
          <app-loading></app-loading>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-info" (click)="onUpload()"
        >Save changes</button>
      </div>
    </div>
  </div>
</div>

    <div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">

            <button type="button" class="btn btn-round btn-info" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form class="form" style="padding: 3%" >
            <div class="card-header text-center">
              <h5>edit profile</h5>
            </div>
            <div class="form-group row">
              <div class="col">
                <label for="firstName" >Firstname</label>
                <input [(ngModel)]="user.firstName" type="text" class="form-control" ngModel name="firstName" id="firstName" placeholder="fedi">
              </div>
              <div class="col">
                <label for="lastName">Lastname</label>
                <input [(ngModel)]="user.lastName" type="text" class="form-control" ngModel name="lastName" id="lastName" placeholder="labidi">
              </div>
            </div>
            <div class="form-group">
              <label for="email">Email address</label>
              <input type="email" [(ngModel)]="user.email" class="form-control" ngModel name="email" id="email" aria-describedby="emailHelp" placeholder="Enter email">
            </div>


            <div class="form-group">
              <label for="exampleInputPassword1">Phone</label>
              <input [(ngModel)]="user.phoneNumber" type="text" class="form-control" ngModel name="phoneNumber" id="phoneNumber" placeholder="+216 71 000 000">
            </div>
            <div class="form-group">
              <label for="exampleInputPasssswddord1">Two factors authentication</label>
              <span *ngIf="user.twoFactorsAuth" class="badge badge-neutral">enabled</span>
              <span *ngIf="!user.twoFactorsAuth" class="badge badge-neutral">disabled</span>
              <button  *ngIf="!user.twoFactorsAuth" class="btn btn-info btn-round" (click)="enable2fa()">enable</button>
            </div>
          </form>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-info" (click)="onUpload()"
            >Save changes</button>
          </div>
        </div>
      </div>
    </div>

    <!---- Camera -->
    <div class="modal fade" id="exampleCam" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">

            <button type="button" class="btn btn-round btn-info" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
         <app-camera></app-camera>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-info" (click)="onUpload()"
            >Save changes</button>
          </div>
        </div>
      </div>
    </div>

</div>

</div>
</div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="display: none;" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          <i class="now-ui-icons ui-1_simple-remove"></i>
        </button>
        <h4 class="title title-up">Add a new shop</h4>
      </div>
      <div class="modal-body">
        <form [formGroup]="addShopForm" (ngSubmit)="addShop()">
          <div class="form-group">
            <label>Name</label>
            <input class="form-control"   placeholder="Enter shop name" formControlName="name">
          </div>
          <div class="form-group">
            <label>Phone number</label>
            <input type="number"  class="form-control"   placeholder="Enter shop phone number"  formControlName="phoneNumber">
          </div>

          <label>Address</label>
          <div id="map" class="map">
          </div>
          <div class="form-group">
            <label>Email address</label>
            <input type="email" class="form-control"  aria-describedby="emailHelp" placeholder="Enter shop email"  formControlName="mail">
          </div>
          <div class="mb-3">
            <label for="formFile" class="form-label"> Images </label>
            <input multiple class="form-control" type="file"  (change)="onFilesSelected($event)">
          </div>



          <button  type="submit" class="btn btn-info">Add shop</button>

        </form>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>

</div>
